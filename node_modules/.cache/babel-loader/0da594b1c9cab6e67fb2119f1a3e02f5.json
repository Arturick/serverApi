{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\back_fix\\\\adminkatest\\\\client\\\\src\\\\components\\\\pages\\\\Categories\\\\CategoryFilters\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport CategoryContext from \"../CategoryContext\";\nimport FilterGroup from './FilterGroup';\nimport classes from './CategoryFilters.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CategoryFilters = () => {\n  _s();\n\n  const {\n    category,\n    updateCategory\n  } = useContext(CategoryContext);\n  const [isEditing, setIsEditing] = useState(false);\n  const [filters, setFilters] = useState(category.filters || []);\n  const [groupTitle, setGroupTitle] = useState('');\n\n  function createFilterGroup(ev) {\n    ev.preventDefault();\n\n    if (!filters.find(filter => filter.title === groupTitle)) {\n      const newFilterGroup = {\n        title: groupTitle,\n        subfilters: []\n      };\n      setFilters([...filters, newFilterGroup]);\n    }\n\n    setGroupTitle('');\n  }\n\n  function deleteFilterGroup(groupTitle) {\n    setFilters(filters.filter(group => group.title !== groupTitle));\n  }\n\n  useEffect(() => {\n    category.filters = filters;\n    updateCategory(category);\n  }, [filters]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 \", /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setIsEditing(!isEditing),\n        className: classes.addGroup,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filtersList\",\n      children: [isEditing ? /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: ev => createFilterGroup(ev),\n        style: {\n          margin: '20px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: groupTitle,\n          type: \"text\",\n          onInput: ev => setGroupTitle(ev.target.value.trim())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this) : '', filters.map(group => /*#__PURE__*/_jsxDEV(FilterGroup, {\n        group: group,\n        deleteFilterGroup: deleteFilterGroup\n      }, group.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CategoryFilters, \"nCWsWIycytN6E5hmbntMksTHXqQ=\");\n\n_c = CategoryFilters;\nexport default CategoryFilters;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryFilters\");","map":{"version":3,"names":["React","useState","useContext","useEffect","CategoryContext","FilterGroup","classes","CategoryFilters","category","updateCategory","isEditing","setIsEditing","filters","setFilters","groupTitle","setGroupTitle","createFilterGroup","ev","preventDefault","find","filter","title","newFilterGroup","subfilters","deleteFilterGroup","group","addGroup","margin","target","value","trim","map"],"sources":["D:/Work/back_fix/adminkatest/client/src/components/pages/Categories/CategoryFilters/index.jsx"],"sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\r\nimport CategoryContext from \"../CategoryContext\";\r\nimport FilterGroup from './FilterGroup';\r\nimport classes from './CategoryFilters.module.css';\r\n\r\nconst CategoryFilters = () => {\r\n    const {category, updateCategory} = useContext(CategoryContext);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [filters, setFilters] = useState(category.filters || []);\r\n    const [groupTitle, setGroupTitle] = useState('');\r\n\r\n    function createFilterGroup(ev) {\r\n        ev.preventDefault();\r\n        \r\n        if(!filters.find(filter => filter.title === groupTitle)){\r\n            const newFilterGroup = {title: groupTitle, subfilters: []};\r\n            setFilters([...filters, newFilterGroup]);\r\n        }\r\n\r\n        setGroupTitle('');\r\n    }\r\n\r\n    function deleteFilterGroup(groupTitle){\r\n        setFilters(filters.filter(group => group.title !== groupTitle));\r\n    }\r\n\r\n    useEffect(() => {\r\n        category.filters = filters;\r\n        updateCategory(category);\r\n    }, [filters])     \r\n\r\n    return (\r\n        <div>\r\n            <h3>Фильтры категории <span onClick={() => setIsEditing(!isEditing)} className={classes.addGroup}>+</span></h3>\r\n            <div className=\"filtersList\">\r\n                {isEditing ? \r\n                    <form onSubmit={(ev) => createFilterGroup(ev)} style={{margin: '20px 0'}}>\r\n                        <input value={groupTitle} type=\"text\" onInput={(ev) => setGroupTitle(ev.target.value.trim())}/> \r\n                        <button type=\"submit\">Добавить фильтр</button>\r\n                    </form>\r\n                : ''}\r\n\r\n                {filters.map(group => \r\n                    <FilterGroup group={group} key={group.title} deleteFilterGroup={deleteFilterGroup}/>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategoryFilters;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,OAAP,MAAoB,8BAApB;;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAACC,QAAD;IAAWC;EAAX,IAA6BP,UAAU,CAACE,eAAD,CAA7C;EACA,MAAM,CAACM,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAACO,QAAQ,CAACI,OAAT,IAAoB,EAArB,CAAtC;EACA,MAAM,CAACE,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,EAAD,CAA5C;;EAEA,SAASe,iBAAT,CAA2BC,EAA3B,EAA+B;IAC3BA,EAAE,CAACC,cAAH;;IAEA,IAAG,CAACN,OAAO,CAACO,IAAR,CAAaC,MAAM,IAAIA,MAAM,CAACC,KAAP,KAAiBP,UAAxC,CAAJ,EAAwD;MACpD,MAAMQ,cAAc,GAAG;QAACD,KAAK,EAAEP,UAAR;QAAoBS,UAAU,EAAE;MAAhC,CAAvB;MACAV,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAaU,cAAb,CAAD,CAAV;IACH;;IAEDP,aAAa,CAAC,EAAD,CAAb;EACH;;EAED,SAASS,iBAAT,CAA2BV,UAA3B,EAAsC;IAClCD,UAAU,CAACD,OAAO,CAACQ,MAAR,CAAeK,KAAK,IAAIA,KAAK,CAACJ,KAAN,KAAgBP,UAAxC,CAAD,CAAV;EACH;;EAEDX,SAAS,CAAC,MAAM;IACZK,QAAQ,CAACI,OAAT,GAAmBA,OAAnB;IACAH,cAAc,CAACD,QAAD,CAAd;EACH,CAHQ,EAGN,CAACI,OAAD,CAHM,CAAT;EAKA,oBACI;IAAA,wBACI;MAAA,8HAAsB;QAAM,OAAO,EAAE,MAAMD,YAAY,CAAC,CAACD,SAAF,CAAjC;QAA+C,SAAS,EAAEJ,OAAO,CAACoB,QAAlE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAtB;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAK,SAAS,EAAC,aAAf;MAAA,WACKhB,SAAS,gBACN;QAAM,QAAQ,EAAGO,EAAD,IAAQD,iBAAiB,CAACC,EAAD,CAAzC;QAA+C,KAAK,EAAE;UAACU,MAAM,EAAE;QAAT,CAAtD;QAAA,wBACI;UAAO,KAAK,EAAEb,UAAd;UAA0B,IAAI,EAAC,MAA/B;UAAsC,OAAO,EAAGG,EAAD,IAAQF,aAAa,CAACE,EAAE,CAACW,MAAH,CAAUC,KAAV,CAAgBC,IAAhB,EAAD;QAApE;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADM,GAKR,EANN,EAQKlB,OAAO,CAACmB,GAAR,CAAYN,KAAK,iBACd,QAAC,WAAD;QAAa,KAAK,EAAEA,KAApB;QAA6C,iBAAiB,EAAED;MAAhE,GAAgCC,KAAK,CAACJ,KAAtC;QAAA;QAAA;QAAA;MAAA,QADH,CARL;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAiBH,CA3CD;;GAAMd,e;;KAAAA,e;AA6CN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}