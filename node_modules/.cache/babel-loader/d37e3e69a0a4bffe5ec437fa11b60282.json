{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\back_fix\\\\adminkatest\\\\client\\\\src\\\\components\\\\UI\\\\EditTitleForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport classes from \"./EditForm.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { updatePost } from \"../queries/postQueries\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditTitleForm = _ref => {\n  _s();\n\n  let {\n    currentPost,\n    postType\n  } = _ref;\n  const [isTitleEditing, setIsTitleEditing] = useState(false);\n  const [newTitle, setNewTitle] = useState(\"\");\n  const navigate = useNavigate();\n\n  const changeTitle = async ev => {\n    ev.preventDefault();\n    currentPost.title = newTitle;\n    await updatePost(currentPost, postType);\n\n    switch (postType) {\n      case 'Category':\n        navigate(`/editCategory?${newTitle}`);\n        break;\n\n      case 'Product':\n        navigate(`/editProduct?${newTitle}`);\n        break;\n\n      case 'Article':\n        navigate(`/editArticle?${newTitle}`);\n        break;\n\n      default:\n        break;\n    }\n\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isTitleEditing ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: classes.title,\n      children: [currentPost.title, /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setIsTitleEditing(true),\n        children: \" \\u0440\\u0435\\u0434..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.editForm,\n      onSubmit: ev => changeTitle(ev),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\",\n        onInput: ev => setNewTitle(ev.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditTitleForm, \"PRWTP0+0l0AUHxzlGpusMr5JgUA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = EditTitleForm;\nexport default EditTitleForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditTitleForm\");","map":{"version":3,"names":["React","useState","classes","useNavigate","updatePost","EditTitleForm","currentPost","postType","isTitleEditing","setIsTitleEditing","newTitle","setNewTitle","navigate","changeTitle","ev","preventDefault","title","window","location","reload","editForm","target","value"],"sources":["D:/Work/back_fix/adminkatest/client/src/components/UI/EditTitleForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport classes from \"./EditForm.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { updatePost } from \"../queries/postQueries\";\r\n\r\nconst EditTitleForm = ({ currentPost, postType }) => {\r\n  const [isTitleEditing, setIsTitleEditing] = useState(false);\r\n  const [newTitle, setNewTitle] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const changeTitle = async (ev) => {\r\n    ev.preventDefault();\r\n    currentPost.title = newTitle;\r\n    await updatePost(currentPost, postType);\r\n  \r\n    switch (postType) {\r\n      case 'Category':\r\n        navigate(`/editCategory?${newTitle}`);\r\n        break;\r\n      case 'Product':\r\n        navigate(`/editProduct?${newTitle}`);\r\n        break;\r\n      case 'Article':\r\n        navigate(`/editArticle?${newTitle}`);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!isTitleEditing ? (\r\n        <h2 className={classes.title}>\r\n          {currentPost.title}\r\n          <span onClick={() => setIsTitleEditing(true)}> ред..</span>\r\n        </h2>\r\n      ) : (\r\n        <form\r\n          className={classes.editForm}\r\n          onSubmit={(ev) => changeTitle(ev)}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Введите название категории\"\r\n            onInput={(ev) => setNewTitle(ev.target.value)}\r\n          />\r\n          <input type=\"submit\" value=\"Сохранить\" />\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditTitleForm;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,QAA2B,wBAA3B;;;AAEA,MAAMC,aAAa,GAAG,QAA+B;EAAA;;EAAA,IAA9B;IAAEC,WAAF;IAAeC;EAAf,CAA8B;EACnD,MAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC,KAAD,CAApD;EACA,MAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAMW,QAAQ,GAAGT,WAAW,EAA5B;;EAEA,MAAMU,WAAW,GAAG,MAAOC,EAAP,IAAc;IAChCA,EAAE,CAACC,cAAH;IACAT,WAAW,CAACU,KAAZ,GAAoBN,QAApB;IACA,MAAMN,UAAU,CAACE,WAAD,EAAcC,QAAd,CAAhB;;IAEA,QAAQA,QAAR;MACE,KAAK,UAAL;QACEK,QAAQ,CAAE,iBAAgBF,QAAS,EAA3B,CAAR;QACA;;MACF,KAAK,SAAL;QACEE,QAAQ,CAAE,gBAAeF,QAAS,EAA1B,CAAR;QACA;;MACF,KAAK,SAAL;QACEE,QAAQ,CAAE,gBAAeF,QAAS,EAA1B,CAAR;QACA;;MACF;QACE;IAXJ;;IAcAO,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACD,CApBD;;EAsBA,oBACE;IAAA,UACG,CAACX,cAAD,gBACC;MAAI,SAAS,EAAEN,OAAO,CAACc,KAAvB;MAAA,WACGV,WAAW,CAACU,KADf,eAEE;QAAM,OAAO,EAAE,MAAMP,iBAAiB,CAAC,IAAD,CAAtC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,gBAMC;MACE,SAAS,EAAEP,OAAO,CAACkB,QADrB;MAEE,QAAQ,EAAGN,EAAD,IAAQD,WAAW,CAACC,EAAD,CAF/B;MAAA,wBAIE;QACE,IAAI,EAAC,MADP;QAEE,WAAW,EAAC,oJAFd;QAGE,OAAO,EAAGA,EAAD,IAAQH,WAAW,CAACG,EAAE,CAACO,MAAH,CAAUC,KAAX;MAH9B;QAAA;QAAA;QAAA;MAAA,QAJF,eASE;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA;EAPJ;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD,CAjDD;;GAAMjB,a;UAGaF,W;;;KAHbE,a;AAmDN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}