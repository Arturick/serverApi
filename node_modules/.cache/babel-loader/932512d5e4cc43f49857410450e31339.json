{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\back_fix\\\\adminkatest\\\\client\\\\src\\\\components\\\\pages\\\\Categories\\\\EditCategory.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { updatePost } from \"../../queries/postQueries\";\nimport classes from \"../Pages.module.css\";\nimport { getPost } from \"../../queries/postQueries\";\nimport EditTitleForm from \"../../UI/EditTitleForm.jsx\";\nimport CategoryGallery from \"./CategoryGallery\";\nimport CategoryProducts from \"./CategoryProducts\";\nimport CategoryFilters from \"./CategoryFilters\";\nimport CategoryContext from \"./CategoryContext\";\nimport CategoryOrder from \"./CategoryOrder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditCategory = () => {\n  _s();\n\n  const [category, setCategory] = useState({});\n  const [imageLink, setImageLink] = useState(\"\");\n  useEffect(() => {\n    const categoryTitle = decodeURIComponent(window.location.search.split(\"?\")[1]);\n    getPost(categoryTitle, \"Category\").then(response => {\n      var _response$post$postIm;\n\n      setCategory(response.post);\n      setImageLink((_response$post$postIm = response.post.postImages) === null || _response$post$postIm === void 0 ? void 0 : _response$post$postIm.photosLinks[0]);\n    });\n  }, []);\n\n  async function updateCategory(category) {\n    await updatePost(category, \"Category\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.panel,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.panelTop,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: category.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), Object.keys(category).length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.panelMain,\n      children: /*#__PURE__*/_jsxDEV(CategoryContext.Provider, {\n        value: {\n          category,\n          updateCategory\n        },\n        children: [/*#__PURE__*/_jsxDEV(CategoryGallery, {\n          imageLink: imageLink\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EditTitleForm, {\n          currentPost: category,\n          postType: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CategoryProducts, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CategoryOrder, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CategoryFilters, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditCategory, \"8eiqkLNDRt8NnXRFeoU4QrLFnZQ=\");\n\n_c = EditCategory;\nexport default EditCategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCategory\");","map":{"version":3,"names":["React","useEffect","useState","updatePost","classes","getPost","EditTitleForm","CategoryGallery","CategoryProducts","CategoryFilters","CategoryContext","CategoryOrder","EditCategory","category","setCategory","imageLink","setImageLink","categoryTitle","decodeURIComponent","window","location","search","split","then","response","post","postImages","photosLinks","updateCategory","panel","panelTop","title","Object","keys","length","panelMain"],"sources":["D:/Work/back_fix/adminkatest/client/src/components/pages/Categories/EditCategory.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { updatePost } from \"../../queries/postQueries\";\r\nimport classes from \"../Pages.module.css\";\r\nimport { getPost } from \"../../queries/postQueries\";\r\nimport EditTitleForm from \"../../UI/EditTitleForm.jsx\";\r\nimport CategoryGallery from \"./CategoryGallery\";\r\nimport CategoryProducts from \"./CategoryProducts\";\r\nimport CategoryFilters from \"./CategoryFilters\";\r\nimport CategoryContext from \"./CategoryContext\";\r\nimport CategoryOrder from \"./CategoryOrder\";\r\n\r\nconst EditCategory = () => {\r\n  const [category, setCategory] = useState({});\r\n  const [imageLink, setImageLink] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const categoryTitle = decodeURIComponent(\r\n      window.location.search.split(\"?\")[1]\r\n    );\r\n\r\n    getPost(categoryTitle, \"Category\").then((response) => {\r\n      setCategory(response.post);\r\n      setImageLink(response.post.postImages?.photosLinks[0]);\r\n    });\r\n  }, []);\r\n\r\n  async function updateCategory(category) {\r\n    await updatePost(category, \"Category\");\r\n  }  \r\n\r\n  return (\r\n    <div className={classes.panel}>\r\n      <div className={classes.panelTop}>\r\n        <h2>{category.title}</h2>\r\n      </div>\r\n      {Object.keys(category).length !== 0 ? (\r\n        <div className={classes.panelMain}>\r\n          <CategoryContext.Provider value={{category, updateCategory}}>\r\n            <CategoryGallery\r\n              imageLink={imageLink}\r\n            />\r\n            <EditTitleForm currentPost={category} postType=\"Category\" />\r\n            <CategoryProducts/>\r\n            <CategoryOrder/>\r\n            <CategoryFilters/>\r\n          </CategoryContext.Provider>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditCategory;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SAASC,OAAT,QAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACzB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,EAAD,CAA1C;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMgB,aAAa,GAAGC,kBAAkB,CACtCC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CADsC,CAAxC;IAIAjB,OAAO,CAACY,aAAD,EAAgB,UAAhB,CAAP,CAAmCM,IAAnC,CAAyCC,QAAD,IAAc;MAAA;;MACpDV,WAAW,CAACU,QAAQ,CAACC,IAAV,CAAX;MACAT,YAAY,0BAACQ,QAAQ,CAACC,IAAT,CAAcC,UAAf,0DAAC,sBAA0BC,WAA1B,CAAsC,CAAtC,CAAD,CAAZ;IACD,CAHD;EAID,CATQ,EASN,EATM,CAAT;;EAWA,eAAeC,cAAf,CAA8Bf,QAA9B,EAAwC;IACtC,MAAMV,UAAU,CAACU,QAAD,EAAW,UAAX,CAAhB;EACD;;EAED,oBACE;IAAK,SAAS,EAAET,OAAO,CAACyB,KAAxB;IAAA,wBACE;MAAK,SAAS,EAAEzB,OAAO,CAAC0B,QAAxB;MAAA,uBACE;QAAA,UAAKjB,QAAQ,CAACkB;MAAd;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,EAIGC,MAAM,CAACC,IAAP,CAAYpB,QAAZ,EAAsBqB,MAAtB,KAAiC,CAAjC,gBACC;MAAK,SAAS,EAAE9B,OAAO,CAAC+B,SAAxB;MAAA,uBACE,QAAC,eAAD,CAAiB,QAAjB;QAA0B,KAAK,EAAE;UAACtB,QAAD;UAAWe;QAAX,CAAjC;QAAA,wBACE,QAAC,eAAD;UACE,SAAS,EAAEb;QADb;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,aAAD;UAAe,WAAW,EAAEF,QAA5B;UAAsC,QAAQ,EAAC;QAA/C;UAAA;UAAA;UAAA;QAAA,QAJF,eAKE,QAAC,gBAAD;UAAA;UAAA;UAAA;QAAA,QALF,eAME,QAAC,aAAD;UAAA;UAAA;UAAA;QAAA,QANF,eAOE,QAAC,eAAD;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADD,GAYG,IAhBN;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD,CAvCD;;GAAMD,Y;;KAAAA,Y;AAyCN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}