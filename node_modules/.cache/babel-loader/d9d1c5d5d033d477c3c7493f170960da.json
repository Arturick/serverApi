{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\back_fix\\\\adminkatest\\\\client\\\\src\\\\components\\\\pages\\\\Categories\\\\CategoryFilters\\\\FilterGroup.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport CategoryContext from \"../CategoryContext\";\nimport classes from './CategoryFilters.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FilterGroup = _ref => {\n  _s();\n\n  let {\n    group,\n    deleteFilterGroup\n  } = _ref;\n  const {\n    category,\n    updateCategory\n  } = useContext(CategoryContext);\n  const [subfilterTitle, setSubfilterTitle] = useState('');\n  const [subfilters, setSubfilters] = useState(group.subfilters);\n  useEffect(() => {\n    group.subfilters = subfilters;\n    updateCategory(category);\n  }, [subfilters]);\n\n  function createSubfilter(ev) {\n    ev.preventDefault();\n    if (!subfilters.find(subfilter => subfilter === subfilterTitle)) setSubfilters([...subfilters, subfilterTitle]);\n    setSubfilterTitle('');\n  }\n\n  function deleteSubfilter(title) {\n    setSubfilters(subfilters.filter(subfilter => subfilter !== title));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.filterItem,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.filterItemHeader,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: group.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => deleteFilterGroup(group.title),\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: subfilters ? subfilters.map(subfilter => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [subfilter, \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.subfilterDelete,\n          onClick: () => deleteSubfilter(subfilter),\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 53\n        }, this)]\n      }, subfilter, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this)) : 'no subs'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: ev => createSubfilter(ev),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: subfilterTitle,\n        type: \"text\",\n        onInput: ev => setSubfilterTitle(ev.target.value.trim()),\n        placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FilterGroup, \"Ny/q0DCGL1dBsFt+SCI3U9rwTM4=\");\n\n_c = FilterGroup;\nexport default FilterGroup;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterGroup\");","map":{"version":3,"names":["React","useState","useContext","useEffect","CategoryContext","classes","FilterGroup","group","deleteFilterGroup","category","updateCategory","subfilterTitle","setSubfilterTitle","subfilters","setSubfilters","createSubfilter","ev","preventDefault","find","subfilter","deleteSubfilter","title","filter","filterItem","filterItemHeader","map","subfilterDelete","target","value","trim"],"sources":["D:/Work/back_fix/adminkatest/client/src/components/pages/Categories/CategoryFilters/FilterGroup.jsx"],"sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\r\nimport CategoryContext from \"../CategoryContext\";\r\nimport classes from './CategoryFilters.module.css'\r\n\r\nconst FilterGroup = ({group, deleteFilterGroup}) => {\r\n    const {category, updateCategory} = useContext(CategoryContext);\r\n    const [subfilterTitle, setSubfilterTitle] = useState('');\r\n    const [subfilters, setSubfilters] = useState(group.subfilters);\r\n\r\n    useEffect(() => { \r\n        group.subfilters = subfilters;\r\n        updateCategory(category);\r\n    }, [subfilters])\r\n\r\n    function createSubfilter(ev){\r\n        ev.preventDefault();\r\n\r\n        if(!subfilters.find(subfilter => subfilter === subfilterTitle))\r\n            setSubfilters([...subfilters, subfilterTitle]);\r\n            \r\n        setSubfilterTitle('');\r\n    }\r\n\r\n    function deleteSubfilter(title){\r\n        setSubfilters(subfilters.filter(subfilter => subfilter !== title));\r\n    }\r\n\r\n    return (\r\n        <div className={classes.filterItem}>\r\n            <div className={classes.filterItemHeader}>\r\n                <h4>{group.title}</h4><span onClick={() => deleteFilterGroup(group.title)}>Удалить</span>\r\n            </div>\r\n            <ul>\r\n                {subfilters ? subfilters.map(subfilter => \r\n                    <li key={subfilter}>{subfilter} <div className={classes.subfilterDelete} onClick={() => deleteSubfilter(subfilter)}>&#10006;</div></li>\r\n                ) : 'no subs'}\r\n            </ul>\r\n            <form onSubmit={(ev) => createSubfilter(ev)}>\r\n                <input value={subfilterTitle} type=\"text\" onInput={(ev) => setSubfilterTitle(ev.target.value.trim())} placeholder=\"Добавить фильтр\"/>\r\n                <button type=\"submit\">+</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilterGroup;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,OAAOC,eAAP,MAA4B,oBAA5B;AACA,OAAOC,OAAP,MAAoB,8BAApB;;;AAEA,MAAMC,WAAW,GAAG,QAAgC;EAAA;;EAAA,IAA/B;IAACC,KAAD;IAAQC;EAAR,CAA+B;EAChD,MAAM;IAACC,QAAD;IAAWC;EAAX,IAA6BR,UAAU,CAACE,eAAD,CAA7C;EACA,MAAM,CAACO,cAAD,EAAiBC,iBAAjB,IAAsCX,QAAQ,CAAC,EAAD,CAApD;EACA,MAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAACM,KAAK,CAACM,UAAP,CAA5C;EAEAV,SAAS,CAAC,MAAM;IACZI,KAAK,CAACM,UAAN,GAAmBA,UAAnB;IACAH,cAAc,CAACD,QAAD,CAAd;EACH,CAHQ,EAGN,CAACI,UAAD,CAHM,CAAT;;EAKA,SAASE,eAAT,CAAyBC,EAAzB,EAA4B;IACxBA,EAAE,CAACC,cAAH;IAEA,IAAG,CAACJ,UAAU,CAACK,IAAX,CAAgBC,SAAS,IAAIA,SAAS,KAAKR,cAA3C,CAAJ,EACIG,aAAa,CAAC,CAAC,GAAGD,UAAJ,EAAgBF,cAAhB,CAAD,CAAb;IAEJC,iBAAiB,CAAC,EAAD,CAAjB;EACH;;EAED,SAASQ,eAAT,CAAyBC,KAAzB,EAA+B;IAC3BP,aAAa,CAACD,UAAU,CAACS,MAAX,CAAkBH,SAAS,IAAIA,SAAS,KAAKE,KAA7C,CAAD,CAAb;EACH;;EAED,oBACI;IAAK,SAAS,EAAEhB,OAAO,CAACkB,UAAxB;IAAA,wBACI;MAAK,SAAS,EAAElB,OAAO,CAACmB,gBAAxB;MAAA,wBACI;QAAA,UAAKjB,KAAK,CAACc;MAAX;QAAA;QAAA;QAAA;MAAA,QADJ,eAC0B;QAAM,OAAO,EAAE,MAAMb,iBAAiB,CAACD,KAAK,CAACc,KAAP,CAAtC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAD1B;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAII;MAAA,UACKR,UAAU,GAAGA,UAAU,CAACY,GAAX,CAAeN,SAAS,iBAClC;QAAA,WAAqBA,SAArB,oBAAgC;UAAK,SAAS,EAAEd,OAAO,CAACqB,eAAxB;UAAyC,OAAO,EAAE,MAAMN,eAAe,CAACD,SAAD,CAAvE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAhC;MAAA,GAASA,SAAT;QAAA;QAAA;QAAA;MAAA,QADU,CAAH,GAEP;IAHR;MAAA;MAAA;MAAA;IAAA,QAJJ,eASI;MAAM,QAAQ,EAAGH,EAAD,IAAQD,eAAe,CAACC,EAAD,CAAvC;MAAA,wBACI;QAAO,KAAK,EAAEL,cAAd;QAA8B,IAAI,EAAC,MAAnC;QAA0C,OAAO,EAAGK,EAAD,IAAQJ,iBAAiB,CAACI,EAAE,CAACW,MAAH,CAAUC,KAAV,CAAgBC,IAAhB,EAAD,CAA5E;QAAsG,WAAW,EAAC;MAAlH;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QATJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAgBH,CAvCD;;GAAMvB,W;;KAAAA,W;AAyCN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}